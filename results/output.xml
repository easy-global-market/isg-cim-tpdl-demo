<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Robot 3.2.1 (Python 3.7.5 on linux)" generated="20200929 14:09:58.724" rpa="false">
<suite id="s1" name="Isg-Cim-Tpdl-Demo" source="/home/poliveira/git/isg-cim-tpdl-demo">
<suite id="s1-s1" name="Tests" source="/home/poliveira/git/isg-cim-tpdl-demo/Tests">
<suite id="s1-s1-s1" name="TestBinding" source="/home/poliveira/git/isg-cim-tpdl-demo/Tests/TestBinding.robot">
<test id="s1-s1-s1-t1" name="Test notify HTTP Broker">
<kw name="Notify Broker" library="HTTP">
<doc>Receive And Reply To POST</doc>
<kw name="Initialize Client" library="HttpCtrl.Client">
<doc>Initialize client using host and port of a server which will be used for communication.</doc>
<arguments>
<arg>127.0.0.1</arg>
<arg>8000</arg>
</arguments>
<status status="PASS" starttime="20200929 14:09:58.780" endtime="20200929 14:09:58.780"></status>
</kw>
<kw name="Start Server" library="HttpCtrl.Server">
<doc>Start HTTP server on specific address and port. Server should be closed when it is not required, for example,
when test is over. In case of double call of \`Start Server\`, the previous will be stopped and only then the
next one HTTP server will be started.</doc>
<arguments>
<arg>127.0.0.1</arg>
<arg>8000</arg>
</arguments>
<msg timestamp="20200929 14:09:58.781" level="INFO">Prepare HTTP server '127.0.0.1:8000' and thread to serve it.</msg>
<status status="PASS" starttime="20200929 14:09:58.780" endtime="20200929 14:09:58.781"></status>
</kw>
<kw name="Set Variable" library="BuiltIn">
<doc>Returns the given values which can then be assigned to a variables.</doc>
<arguments>
<arg>{ "message": "Hello!" }</arg>
</arguments>
<assign>
<var>${request body}</var>
</assign>
<msg timestamp="20200929 14:09:58.782" level="INFO">${request body} = { "message": "Hello!" }</msg>
<status status="PASS" starttime="20200929 14:09:58.781" endtime="20200929 14:09:58.782"></status>
</kw>
<kw name="Send Http Request Async" library="HttpCtrl.Client">
<doc>Send HTTP request with specified parameters asynchronously. Non-blocking function to send request that waits
for reply using separate thread. Return connection object that is used as a key to get asynchronous response
using function 'Get Async Response'.</doc>
<arguments>
<arg>POST</arg>
<arg>/post</arg>
<arg>${request body}</arg>
</arguments>
<assign>
<var>${connection}</var>
</assign>
<msg timestamp="20200929 14:09:58.785" level="INFO">Request (type: 'http', method 'POST') is sent to 127.0.0.1:8000.</msg>
<msg timestamp="20200929 14:09:58.785" level="INFO">POST /post</msg>
<msg timestamp="20200929 14:09:58.785" level="INFO">{ "message": "Hello!" }</msg>
<msg timestamp="20200929 14:09:58.786" level="INFO">${connection} = &lt;http.client.HTTPConnection object at 0x7f525a01a190&gt;</msg>
<status status="PASS" starttime="20200929 14:09:58.782" endtime="20200929 14:09:58.786"></status>
</kw>
<kw name="Wait For Request" library="HttpCtrl.Server">
<doc>Command to server to wait incoming request. This call is blocked until HTTP request arrives. Basically server
receives all requests after \`Start Server\` and places them to internal queue. When test call function
\`Wait For Request\` it checks the queue and if it is not empty returns the first request in the queue. If the
queue is empty then function waits when the server receives request and place it to the queue. There is
default time period '5 seconds' to wait request and this waiting time can be changed. If during wait time the
request is not received then timeout error occurs.</doc>
<msg timestamp="20200929 14:09:58.788" level="INFO">Request is received: POST /post
{ "message": "Hello!" }</msg>
<status status="PASS" starttime="20200929 14:09:58.787" endtime="20200929 14:09:58.788"></status>
</kw>
<kw name="Get Request Method" library="HttpCtrl.Server">
<doc>Returns method of received request as a string. This function should be called after \`Wait For Request\`,
otherwise None is returned.</doc>
<assign>
<var>${received_req_method}</var>
</assign>
<msg timestamp="20200929 14:09:58.788" level="INFO">${received_req_method} = POST</msg>
<status status="PASS" starttime="20200929 14:09:58.788" endtime="20200929 14:09:58.788"></status>
</kw>
<kw name="Get Request Url" library="HttpCtrl.Server">
<doc>Returns URL of received request as a string. This function should be called after \`Wait For Request\`,
otherwise None is returned.</doc>
<assign>
<var>${received_req_url}</var>
</assign>
<msg timestamp="20200929 14:09:58.789" level="INFO">${received_req_url} = /post</msg>
<status status="PASS" starttime="20200929 14:09:58.789" endtime="20200929 14:09:58.789"></status>
</kw>
<kw name="Get Request Body" library="HttpCtrl.Server">
<doc>Returns body of received request as a string. This function should be called after \`Wait For Request\`,
otherwise None is returned.</doc>
<assign>
<var>${received_req_body}</var>
</assign>
<msg timestamp="20200929 14:09:58.789" level="INFO">${received_req_body} = { "message": "Hello!" }</msg>
<status status="PASS" starttime="20200929 14:09:58.789" endtime="20200929 14:09:58.789"></status>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<doc>Fails if the given objects are unequal.</doc>
<arguments>
<arg>${received_req_method}</arg>
<arg>POST</arg>
</arguments>
<status status="PASS" starttime="20200929 14:09:58.790" endtime="20200929 14:09:58.790"></status>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<doc>Fails if the given objects are unequal.</doc>
<arguments>
<arg>${received_req_url}</arg>
<arg>/post</arg>
</arguments>
<status status="PASS" starttime="20200929 14:09:58.791" endtime="20200929 14:09:58.791"></status>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<doc>Fails if the given objects are unequal.</doc>
<arguments>
<arg>${received_req_body}</arg>
<arg>${request body}</arg>
</arguments>
<status status="PASS" starttime="20200929 14:09:58.791" endtime="20200929 14:09:58.792"></status>
</kw>
<kw name="Reply By" library="HttpCtrl.Server">
<doc>Send response using specified HTTP code and body. This function should be called after \`Wait For Request\`.</doc>
<arguments>
<arg>200</arg>
</arguments>
<msg timestamp="20200929 14:09:58.793" level="INFO">Push response to the Response Storage: 200</msg>
<status status="PASS" starttime="20200929 14:09:58.792" endtime="20200929 14:09:58.793"></status>
</kw>
<kw name="Get Async Response" library="HttpCtrl.Client">
<doc>Return response as an object for the specified connection. This method should be called once after
'Send HTTP Request Async' or 'Send HTTPS Request Async'. It returns None if there is no response for the
specified connection.</doc>
<arguments>
<arg>${connection}</arg>
<arg>5</arg>
</arguments>
<assign>
<var>${response}</var>
</assign>
<msg timestamp="20200929 14:09:58.794" level="INFO">${response} = 200</msg>
<status status="PASS" starttime="20200929 14:09:58.793" endtime="20200929 14:09:58.795"></status>
</kw>
<kw name="Get Status From Response" library="HttpCtrl.Client">
<doc>Return response status as an integer value from the specified response object that was obtained by function
'Get Async Response'. Return 'None' if response object is None.</doc>
<arguments>
<arg>${response}</arg>
</arguments>
<assign>
<var>${response_status}</var>
</assign>
<msg timestamp="20200929 14:09:58.795" level="INFO">${response_status} = 200</msg>
<status status="PASS" starttime="20200929 14:09:58.795" endtime="20200929 14:09:58.795"></status>
</kw>
<kw name="Convert To Integer" library="BuiltIn">
<doc>Converts the given item to an integer number.</doc>
<arguments>
<arg>200</arg>
</arguments>
<assign>
<var>${expected status}</var>
</assign>
<msg timestamp="20200929 14:09:58.796" level="INFO">${expected status} = 200</msg>
<status status="PASS" starttime="20200929 14:09:58.795" endtime="20200929 14:09:58.796"></status>
</kw>
<kw name="Should Be Equal" library="BuiltIn">
<doc>Fails if the given objects are unequal.</doc>
<arguments>
<arg>${response_status}</arg>
<arg>${expected status}</arg>
</arguments>
<status status="PASS" starttime="20200929 14:09:58.796" endtime="20200929 14:09:58.797"></status>
</kw>
<kw name="Stop Server" library="HttpCtrl.Server">
<doc>Stop HTTP server if it has been started. This function should be called if server has been started.</doc>
<msg timestamp="20200929 14:09:58.797" level="INFO">Push response to the Response Storage: &lt;HttpCtrl.internal_messages.TerminationRequest object at 0x7f5258fc8650&gt;</msg>
<msg timestamp="20200929 14:09:59.295" level="INFO">HTTP server is stopped.</msg>
<status status="PASS" starttime="20200929 14:09:58.797" endtime="20200929 14:09:59.296"></status>
</kw>
<status status="PASS" starttime="20200929 14:09:58.779" endtime="20200929 14:09:59.297"></status>
</kw>
<timeout value="30 seconds"></timeout>
<status status="PASS" starttime="20200929 14:09:58.778" endtime="20200929 14:09:59.297" critical="yes"></status>
</test>
<doc>Test Binding</doc>
<status status="PASS" starttime="20200929 14:09:58.748" endtime="20200929 14:09:59.300"></status>
</suite>
<status status="PASS" starttime="20200929 14:09:58.746" endtime="20200929 14:09:59.302"></status>
</suite>
<status status="PASS" starttime="20200929 14:09:58.725" endtime="20200929 14:09:59.303"></status>
</suite>
<statistics>
<total>
<stat pass="1" fail="0">Critical Tests</stat>
<stat pass="1" fail="0">All Tests</stat>
</total>
<tag>
</tag>
<suite>
<stat pass="1" fail="0" id="s1" name="Isg-Cim-Tpdl-Demo">Isg-Cim-Tpdl-Demo</stat>
<stat pass="1" fail="0" id="s1-s1" name="Tests">Isg-Cim-Tpdl-Demo.Tests</stat>
<stat pass="1" fail="0" id="s1-s1-s1" name="TestBinding">Isg-Cim-Tpdl-Demo.Tests.TestBinding</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
